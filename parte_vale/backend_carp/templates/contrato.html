{% extends "base.html" %}
{% load static %}

{% block title %}Contrato de alquiler - Road Luxury{% endblock %}

{% block content %}

<style>
    body { background:#111; }

    .contract-page {
        max-width: 900px;
        margin: 40px auto;
        background: #fffdf5;
        color: #222;
        padding: 40px 50px;
        border-radius: 16px;
        box-shadow: 0 0 30px rgba(0,0,0,0.4);
        font-family: 'Poppins', sans-serif;
    }

    h1 {
        text-align: center;
        color: #b88a1c;
        margin-bottom: 5px;
        font-size: 28px;
    }

    .subtitulo {
        text-align: center;
        font-size: 0.9rem;
        color: #555;
        margin-bottom: 25px;
    }

    h2 {
        color: #333;
        margin-top: 22px;
        margin-bottom: 8px;
        font-size: 1.05rem;
    }

    p {
        font-size: 0.95rem;
        line-height: 1.5;
        margin-bottom: 8px;
    }

    .resumen {
        border: 1px solid #e0cd8f;
        background: #fff8dd;
        padding: 12px 14px;
        border-radius: 10px;
        margin-bottom: 18px;
        font-size: 0.92rem;
    }

    .importante {
        margin-top: 20px;
        padding: 12px 14px;
        border-radius: 10px;
        background: #fff0c5;
        border: 1px solid #d4af37;
        font-weight: 600;
        color: #704b00;
    }

    .firmas {
        margin-top: 40px;
        display: flex;
        justify-content: space-between;
        gap: 40px;
    }

    .firma-box {
        width: 45%;
        text-align: center;
        font-size: 0.9rem;
    }

    .linea-firma {
        margin-top: 40px;
        border-top: 1px solid #000;
        padding-top: 6px;
    }

    .botones {
        margin-top: 30px;
        text-align: center;
    }

    .btn {
        display: inline-block;
        padding: 10px 18px;
        border-radius: 10px;
        cursor: pointer;
        font-weight: 600;
        margin: 4px;
        text-decoration: none;
        font-size: 0.95rem;
    }

    .btn-print {
        background: #d4af37;
        color: #000;
    }

    .btn-back {
        background: #222;
        color: #f5f5f5;
    }

    @media print {
        .luxury-header { display:none !important; }
        body { background:#fff; padding:0; }
        .contract-page { box-shadow:none; border-radius:0; margin:0; width:100%; }
        .botones { display:none; }
    }
</style>


<div class="contract-page">

    <h1>Contrato de arrendamiento de veh√≠culo</h1>
    <div class="subtitulo">Road Luxury S.A.S. ¬∑ NIT 901.765.432-1 ¬∑ Bogot√° D.C.</div>

    <!-- RESUMEN -->
    <div class="resumen">
        <p><strong>Cliente:</strong> {{ reserva.usuario.nom_usr }}  
        <br><strong>Tel√©fono:</strong> {{ reserva.usuario.tel_usr }}</p>

        <p><strong>Veh√≠culo:</strong> {{ reserva.vehiculo.name }}  
        

        <p><strong>Fechas:</strong>
            {{ reserva.fci_rsv|date:"d \\d\\e F \\d\\e Y" }} ‚Üí
            {{ reserva.fch_rsv|date:"d \\d\\e F \\d\\e Y" }}
            ({{ reserva.dias }} d√≠a(s))
        </p>

        <p><strong>Precio por d√≠a:</strong> ${{ reserva.vehiculo.price }}</p>
        <p><strong>Total del alquiler:</strong> ${{ reserva.total }}</p>
    </div>

    <!-- CUERPO DEL CONTRATO -->
    <p>
        Entre <strong>ROAD LUXURY S.A.S.</strong>, en adelante
        <strong>EL ARRENDADOR</strong>, y
        <strong>{{ reserva.usuario.nom_usr }}</strong>,
        en adelante <strong>EL ARRENDATARIO</strong>, se celebra el siguiente contrato:
    </p>

    <h2>1. Objeto del contrato</h2>
    <p>El veh√≠culo ser√° entregado para uso exclusivo personal en el periodo indicado.</p>

    <h2>2. Per√≠odo de arrendamiento</h2>
    <p>Desde <strong>{{ reserva.fci_rsv }}</strong> hasta <strong>{{ reserva.fch_rsv }}</strong>.</p>

    <h2>3. Precio y forma de pago</h2>
    <p>Total a pagar: <strong>${{ reserva.total }}</strong>.</p>

    <h2>4. Responsabilidades del arrendatario</h2>
    <p>- Cumplir normas de tr√°nsito.<br>
       - No permitir conductores no autorizados.<br>
       - Asumir multas o da√±os generados.</p>

    <h2>5. Seguro y da√±os</h2>
    <p>El veh√≠culo cuenta con SOAT. Da√±os por negligencia ser√°n asumidos por el arrendatario.</p>

    <h2>6. Retrasos</h2>
    <p>Se cobrar√°n <strong>$50.000 COP/d√≠a</strong> de retraso en la entrega.</p>

    <h2>7. Combustible</h2>
    <p>Debe devolverse con el mismo nivel de combustible entregado.</p>

    <h2>8. Prohibiciones</h2>
    <p>No conducir bajo efectos de alcohol, ni usar el veh√≠culo para transporte ilegal.</p>

    <h2>9. Terminaci√≥n anticipada</h2>
    <p>Se podr√° terminar por mal uso o riesgo para terceros.</p>

    <h2>10. Aceptaci√≥n</h2>
    <p>El arrendatario acepta las condiciones aqu√≠ descritas.</p>

    <div class="importante">
        Este contrato debe ser impreso y firmado f√≠sicamente al momento de la entrega del veh√≠culo.
    </div>

    <!-- FIRMAS -->
    <div class="firmas">
        <div class="firma-box">
            <div class="linea-firma"></div>
            <strong>ARRENDADOR</strong><br>
            ROAD LUXURY S.A.S.
        </div>

        <div class="firma-box">
            <div class="linea-firma"></div>
            <strong>ARRENDATARIO</strong><br>
            {{ reserva.usuario.nom_usr }}
        </div>
    </div>

    <!-- BOTONES -->
    <div class="botones">
        <button class="btn btn-print" onclick="window.print()">üñ® Imprimir contrato</button>
        <a href="{% url 'catalogo' %}" class="btn btn-back">Volver al cat√°logo</a>
    </div>

</div>

{% endblock %}
