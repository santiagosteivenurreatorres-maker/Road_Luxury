{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Pago</title>

    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: #f0f0f3;
            padding: 40px;
        }
        .card {
            background: white;
            padding: 30px;
            max-width: 550px;
            margin: auto;
            border-radius: 18px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        h2 {
            font-weight: 600;
            color: #333;
        }
        .label {
            margin-top: 15px;
            font-weight: 600;
        }
        .input-group {
            margin-top: 8px;
            margin-bottom: 18px;
        }
        input, select {
            width: 100%;
            padding: 12px;
            border: 1px solid #cfcfcf;
            border-radius: 8px;
            font-size: 15px;
        }
        .qr {
            width: 260px;
            display: none;
            margin: 20px auto;
        }
        button {
            width: 100%;
            padding: 14px;
            background: #d4af37;
            border: none;
            border-radius: 10px;
            color: white;
            font-size: 18px;
            cursor: pointer;
            margin-top: 25px;
        }
        button:hover {
            background: #c39a2f;
        }

        /* FORM TARJETA */
        #form-tarjeta input {
            margin-bottom: 13px;
        }
    </style>
</head>
<body>

<div class="card">
    <h2>Pago de la reserva</h2>

    <p><strong>Veh√≠culo:</strong> {{ reserva.vehiculo.name }}</p>
    <p><strong>Total a pagar:</strong> ${{ total }}</p>

    <form method="POST">
        {% csrf_token %}

        <label class="label">M√©todo de pago:</label>
        <select name="metodo_pago" id="metodo_pago" required>
            <option value="">Seleccione‚Ä¶</option>
            <option value="Tarjeta">Tarjeta de cr√©dito</option>
            <option value="Nequi">Nequi</option>
            <option value="Daviplata">Daviplata</option>
            <option value="Efectivo">Efectivo</option>
        </select>

        <!-- FORMULARIO PARA TARJETA -->
        <div id="form-tarjeta" style="display:none;">
            <label class="label">N√∫mero de tarjeta</label>
            <input type="text" maxlength="16" placeholder="1234 5678 9012 3456">

            <label class="label">Nombre del titular</label>
            <input type="text" placeholder="Nombre en la tarjeta">

            <label class="label">Fecha de expiraci√≥n</label>
            <input type="month">

            <label class="label">CVV</label>
            <input type="password" maxlength="4" placeholder="123">
        </div>

        <!-- QR NEQUI -->
       <img id="qr-nequi" class="qr" src="{% static 'img/img/qr_nequi.jpg' %}">


        <!-- QR DAVIPLATA -->
        <img id="qr-daviplata" class="qr" src="https://i.postimg.cc/fyWMRz60/qr-daviplata.png">

        <!-- EFECTIVO -->
        <div id="pago-efectivo" style="display:none; margin-top:20px;">
            <p>üíµ Paga en efectivo al recoger tu veh√≠culo en la oficina de Road Luxury.</p>
        </div>

        <button type="submit">Confirmar pago</button>
    </form>
</div>

<script>
const metodo = document.getElementById("metodo_pago");
const tarjeta = document.getElementById("form-tarjeta");
const qrNequi = document.getElementById("qr-nequi");
const qrDaviplata = document.getElementById("qr-daviplata");
const efectivo = document.getElementById("pago-efectivo");

metodo.addEventListener("change", () => {
    tarjeta.style.display = "none";
    qrNequi.style.display = "none";
    qrDaviplata.style.display = "none";
    efectivo.style.display = "none";

    if (metodo.value === "Tarjeta") tarjeta.style.display = "block";
    if (metodo.value === "Nequi") qrNequi.style.display = "block";
    if (metodo.value === "Daviplata") qrDaviplata.style.display = "block";
    if (metodo.value === "Efectivo") efectivo.style.display = "block";
});
</script>

</body>
</html>
